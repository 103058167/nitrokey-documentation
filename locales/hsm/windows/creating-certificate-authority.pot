# SOME DESCRIPTIVE TITLE.
# Copyright (C) Nitrokey
# This file is distributed under the same license as the Nitrokey Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Nitrokey Documentation \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2021-01-26 16:06+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../hsm/creating-certificate-authority.rst:2
msgid "Creating a Certificate Authority"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:4
msgid "This article shows you how to setup your own private certificate authority backed by a Nitrokey HSM. This certificate authority has no automation and does not really scale. Other open source projects can be referenced for automation and scalability."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:10
msgid "Choose Cryptographic Algorithms"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:12
msgid "I’m going to assume that you’re as paranoid as I am, so I will be using the following command for generating private keys:"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:19
msgid "But, if you’re less paranoid that I am, you can safely choose the following options:"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:27
msgid "Likewise, I will be using the sha512 algorithm throughout this article, but sha256 can safely be used."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:31
msgid "Preparing to Start"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:33
msgid "To start with, you need to pick a directory to store your CA."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:44
msgid "Install the necessary tools:"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:55
msgid "Creating the Root Certificate Authority"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:57
msgid "We start by generating the private key for the certificate authority directly on the Nitrokey HSM. This allows us to use the private key in the future, but not access it."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:82
msgid "Note the ID number (e0161cc8b6f5d66ac6835ecdecb623fc0506a675), we’ll need it later."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:85
#: ../hsm/creating-certificate-authority.rst:250
msgid "If you need the ID in the future, you can list the keys on the Nitrokey HSM:"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:92
#: ../hsm/creating-certificate-authority.rst:257
msgid "We need to create a config file to generate a self-signed public certificate."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:99
#: ../hsm/creating-certificate-authority.rst:264
msgid "Fill out the request information in <angle brackets> with information for your CA."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:160
msgid "Generate the self-signed public certificate from the private key. Use the private key id value from earlier."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:169
msgid "Verify that the root certificate was generated correctly. Verify that Signature-Algorithm matches above and below. Verify that Issuer and Subject match, all root certificates are self signed. Verify that Key Usage matches what was in the v3_ca information in our config file."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:220
msgid "Creating the Intermediate Certificate Authority"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:222
msgid "We continue by generating the private key for the intermediate certificate authority directly on the Nitrokey HSM. This allows us to use the private key in the future, but not access it."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:247
msgid "Note the ID number (bcb48fe9b566ae61891aabbfde6a23d4ff3ab639), we’ll need it later."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:292
msgid "Generate the certificate signing request for the intermediate CA from the intermediate CA’s private key. Use the private key ID value from earlier."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:302
msgid "Verify that the CSR was created correctly. Verify that your Subject is correct. Verify that your Public Key and Signature Algorithm are correct."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:337
#: ../hsm/creating-certificate-authority.rst:548
msgid "We need to find out the fully qualified PKCS#11 URI for your private key:"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:376
msgid "In this instance, the fully qualified PKCS#11 URI is ``pkcs11:model=PKCS%2315%20emulated;manufacturer=www.CardContact.de;serial=DENK0104068;token=SmartCard-HSM%20%28UserPIN%29%00%00%00%00%00%00%00%00%00;id=%E0%16%1C%C8%B6%F5%D6%6A%C6%83%5E%CD%EC%B6%23%FC%05%06%A6%75;object=root;type=private``."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:379
msgid "Now, we need to create a config file to use the private key of the root certificate to sign the csr of the intermediate certificate."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:432
msgid "Then sign the intermediate certificate with the root certificate."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:472
msgid "Verify that the root certificate was generated correctly. Verify that the Issuer and Subject are different, and correct. Verify that the Key Usage matches the config file. Verify that the signature algorithm are correct above and below."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:522
msgid "Verify that the intermediate certificate verifies against the root certificate."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:530
msgid "Create a certificate chain file:"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:536
msgid "You now have a certificate authority backed by an HSM."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:539
msgid "Sign a Server Certificate"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:541
msgid "Now that you have a certificate authority, you’d probably like to know how to use it."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:544
msgid "Create a CSR in the normal method for your application. Proper creation of your certificate, including SAN, for your particular application is outside the scope of this document."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:587
msgid "In this instance, the fully qualified PKCS#11 URI is ``pkcs11:model=PKCS%2315%20emulated;manufacturer=www.CardContact.de;serial=DENK0104068;token=SmartCard-HSM%20%28UserPIN%29%00%00%00%00%00%00%00%00%00;id=%BC%B4%8F%E9%B5%66%AE%61%89%1A%AB%BF%DE%6A%23%D4%FF%3A%B6%39;object=intermediate;type=private``."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:590
msgid "Create a config file to use the private key of the intermediate certificate to sign the CSRs of your servers."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:646
msgid "Then run openssl to sign the server’s CSR."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:695
msgid "References"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:697
msgid "I used the following resources to help in compiling this document."
msgstr ""

#: ../hsm/creating-certificate-authority.rst:699
msgid "`How to initialize your Nitrokey HSM <https://github.com/OpenSC/OpenSC/wiki/SmartCardHSM#initialize-the-device>`__"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:701
msgid "`How to create a root and intermediate CA <https://jamielinux.com/docs/openssl-certificate-authority/create-the-root-pair.html>`__"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:703
msgid "`How to ensure the serial numbers of your intermediate CA and server certs are up to spec <https://www.phildev.net/ssl/creating_ca.html>`__"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:706
msgid "`How to generate ECC private keys <https://dev.to/benjaminblack/obtaining-an-elliptic-curve-dsa-certificate-with-lets-encrypt-51bc>`__"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:708
msgid "`How to find the PCKS11 URI from your HSM <https://www.infradead.org/openconnect/pkcs11.html>`__"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:710
msgid "`Troubleshooting (forum) <https://support.nitrokey.com/t/pki-ca-nitrokey-hsm-does-not-support-signing/2598/14>`__"
msgstr ""

#: ../hsm/creating-certificate-authority.rst:713
msgid "This document was originally `written by lyntux <https://gist.github.com/lyntux/f02c6c3414ce48bc8ea8ab6dcdba1623>`__."
msgstr ""

